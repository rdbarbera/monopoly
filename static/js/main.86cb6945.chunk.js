(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[0],{109:function(e,n,t){},129:function(e,n,t){},132:function(e,n,t){},133:function(e,n,t){},134:function(e,n,t){},135:function(e,n,t){"use strict";var a=t(136);Object.defineProperty(n,"__esModule",{value:!0}),n.calculateGameState=n.defaultGameState=void 0,n.defaultGameState={players:[],freeParkingBalance:0,open:!0},n.calculateGameState=function(e,n){return e.reduce((function(e,n){switch(n.type){case"playerJoin":return Object.assign(Object.assign({},e),{players:[].concat(a(e.players),[{playerId:n.playerId,name:n.name,banker:!1,balance:0,connected:!1}])});case"playerDelete":return Object.assign(Object.assign({},e),{players:e.players.filter((function(e){return e.playerId!==n.playerId}))});case"playerNameChange":return Object.assign(Object.assign({},e),{players:e.players.map((function(e){return e.playerId===n.playerId?Object.assign(Object.assign({},e),{name:n.name}):e}))});case"playerBankerStatusChange":return Object.assign(Object.assign({},e),{players:e.players.map((function(e){return e.playerId===n.playerId?Object.assign(Object.assign({},e),{banker:n.isBanker}):e}))});case"transaction":if("bank"===n.from||"freeParking"===n.from){var t=e.players.find((function(e){return e.playerId===n.to}));if(void 0===t)throw new Error("Unable to find destination player");return Object.assign(Object.assign({},e),{players:[].concat(a(e.players.filter((function(e){return e.playerId!==n.from&&e.playerId!==n.to}))),[Object.assign(Object.assign({},t),{balance:t.balance+n.amount})]),freeParkingBalance:"freeParking"===n.from?e.freeParkingBalance-n.amount:e.freeParkingBalance})}if("bank"===n.to||"freeParking"===n.to){var r=e.players.find((function(e){return e.playerId===n.from}));if(void 0===r)throw new Error("Unable to find source player");return Object.assign(Object.assign({},e),{players:[].concat(a(e.players.filter((function(e){return e.playerId!==n.from&&e.playerId!==n.to}))),[Object.assign(Object.assign({},r),{balance:r.balance-n.amount})]),freeParkingBalance:"freeParking"===n.to?e.freeParkingBalance+n.amount:e.freeParkingBalance})}var c=e.players.find((function(e){return e.playerId===n.from})),i=e.players.find((function(e){return e.playerId===n.to}));if(void 0===c||void 0===i)throw new Error("Unable to find source or destination player");return Object.assign(Object.assign({},e),{players:[].concat(a(e.players.filter((function(e){return e.playerId!==n.from&&e.playerId!==n.to}))),[Object.assign(Object.assign({},c),{balance:c.balance-n.amount}),Object.assign(Object.assign({},i),{balance:i.balance+n.amount})])});case"gameOpenStateChange":return Object.assign(Object.assign({},e),{open:n.open});case"playerConnectionChange":return Object.assign(Object.assign({},e),{players:[].concat(a(e.players.filter((function(e){return e.playerId!==n.playerId}))),[Object.assign(Object.assign({},e.players.find((function(e){return e.playerId===n.playerId}))),{connected:n.connected})])})}}),n)}},140:function(e,n,t){},141:function(e,n,t){},142:function(e,n,t){},143:function(e,n,t){},144:function(e,n,t){"use strict";t.r(n);var a,r,c=t(0),i=t.n(c),o=t(16),l=t.n(o),s=t(17),u=t(13),d=t(20),j=t(160),b=t(149),p=t(159),m=t(86),h=t.p+"static/media/banner.8cd808a3.png",f=["title","titleId"];function O(){return(O=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function g(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function y(e,n){var t=e.title,i=e.titleId,o=g(e,f);return c.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",ref:n,"aria-labelledby":i},o),t?c.createElement("title",{id:i},t):null,a||(a=c.createElement("g",null,c.createElement("rect",{fill:"none",height:24,width:24}))),r||(r=c.createElement("g",null,c.createElement("g",null,c.createElement("rect",{height:7,width:3,x:4,y:10}),c.createElement("rect",{height:7,width:3,x:10.5,y:10}),c.createElement("rect",{height:3,width:20,x:2,y:19}),c.createElement("rect",{height:7,width:3,x:17,y:10}),c.createElement("polygon",{points:"12,1 2,6 2,8 22,8 22,6"})))))}var v,x,k=c.forwardRef(y),I=(t.p,["title","titleId"]);function w(){return(w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function S(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function N(e,n){var t=e.title,a=e.titleId,r=S(e,I);return c.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:n,"aria-labelledby":a},r),t?c.createElement("title",{id:a},t):null,v||(v=c.createElement("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})),x||(x=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var C,E,P=c.forwardRef(N),T=(t.p,["title","titleId"]);function B(){return(B=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function G(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function z(e,n){var t=e.title,a=e.titleId,r=G(e,T);return c.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:n,"aria-labelledby":a},r),t?c.createElement("title",{id:a},t):null,C||(C=c.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})),E||(E=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var M,J=c.forwardRef(z),D=(t.p,["title","titleId"]);function F(){return(F=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function H(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function A(e,n){var t=e.title,a=e.titleId,r=H(e,D);return c.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",ref:n,"aria-labelledby":a},r),t?c.createElement("title",{id:a},t):null,M||(M=c.createElement("g",null,c.createElement("path",{d:"M0,0h24v24H0V0z",fill:"none"}),c.createElement("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"}))))}var q,U,L=c.forwardRef(A),R=(t.p,["title","titleId"]);function V(){return(V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function _(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function W(e,n){var t=e.title,a=e.titleId,r=_(e,R);return c.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"48px",height:"48px",ref:n,"aria-labelledby":a},r),t?c.createElement("title",{id:a},t):null,q||(q=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),U||(U=c.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})))}var Y,$,K=c.forwardRef(W),Q=(t.p,"https://monopoly-vale.nitratine.net"),X="\ud83c\udfe6 Banco",Z="\ud83d\ude97 Free Parking",ee={home:"/",join:"/join",newGame:"/new-game",funds:"/funds",bank:"/bank",history:"/history",settings:"/settings",help:"/help"},ne=(Y={},Object(u.a)(Y,ee.home,{titlePrefix:"",description:"Monopoly Digital - Maneje las finanzas en su banco digital.",index:!0}),Object(u.a)(Y,ee.join,{titlePrefix:"Unirse",description:"Unirse a un juego existente",index:!0}),Object(u.a)(Y,ee.newGame,{titlePrefix:"Nuevo Juego",description:"Crear un nuevo juego",index:!0}),Object(u.a)(Y,ee.funds,{titlePrefix:"Manejar Fondos",index:!1}),Object(u.a)(Y,ee.bank,{titlePrefix:"Banco",index:!1}),Object(u.a)(Y,ee.history,{titlePrefix:"Historial",index:!1}),Object(u.a)(Y,ee.settings,{titlePrefix:"Configuracion",index:!1}),Object(u.a)(Y,ee.help,{titlePrefix:"Ayuda",index:!1}),Y),te=(t(109),t(1)),ae=function(e){var n=e.inGame,t=e.isBanker,a=Object(d.usePath)(),r=[{path:ee.funds,active:n,title:"Fondos",icon:P},{path:ee.history,active:n,title:"Historia",icon:J},{path:ee.bank,active:n&&t,title:"Banco",icon:k},{path:ee.settings,active:n&&t,title:"Conf.",icon:L},{path:ee.help,active:!0,title:"Ayuda",icon:K}],c=function(e){return function(){return Object(d.navigate)(e)}};return Object(te.jsx)(j.a,{bg:"light",variant:"light",sticky:"top",className:"navigation",children:Object(te.jsxs)(b.a,{children:[Object(te.jsx)(j.a.Brand,{onClick:c("/"),className:"mr-1",children:Object(te.jsx)("img",{src:h,height:"30",className:"d-inline-block align-top",alt:"Monopoly Money Banner Logo",style:{cursor:"pointer"}})}),Object(te.jsx)(p.a,{className:"mr-auto",style:{overflowY:"auto"},children:r.filter((function(e){return e.active})).map((function(e){var n=e.icon;return Object(te.jsx)(p.a.Link,{href:"#",onClick:c(e.path),active:a===e.path,className:"p-0",children:Object(te.jsxs)(m.a,{variant:"light",title:e.title,className:"d-flex ml-1 icon-button",children:[Object(te.jsx)(n,{style:{height:25,width:25,fill:a===e.path?"black":"rgba(0,0,0,.65)"}}),Object(te.jsx)("span",{className:"ml-1 d-none d-sm-inline",children:e.title})]})},e.path)}))})]})})},re=t(87),ce=t.n(re),ie=function(e){var n=e.route,t=e.children,a=ne[n],r=""!==a.titlePrefix?"".concat(a.titlePrefix," - Monopoly Money"):"Monopoly Money";return ce()({title:r,description:a.description,charset:"utf-8",lang:"en",metas:[{name:"robots",content:a.index?"index":"noindex, nofollow"}],links:[{rel:"canonical",href:Q+n},{rel:"icon",type:"image/ico",href:"/favicon.ico"},{rel:"apple-touch-icon",type:"image/png",href:"/logo.png"}],openGraph:{title:r,image:Q+h,site_name:"Monopoly Money"}}),Object(te.jsx)(te.Fragment,{children:t})},oe=t(150),le=t(88),se=function(e){var n=e.children;return Object(te.jsx)(b.a,{children:Object(te.jsx)(oe.a,{className:"justify-content-md-center",children:Object(te.jsx)(le.a,{className:"col-md-10",children:n})})})},ue=t(161),de=t(151),je=t(42),be=t(9),pe=t(8),me=t(28),he=t(59),fe=t.n(he),Oe=t(51),ge=t.n(Oe),ye=t(77),ve={api:{root:"https://monopoly-vale.herokuapp.com",unreachableErrorMessage:null!==($="Unable to communicate with server.\nSince this is publicly hosted, we may have run out of minutes on the server.\nThis should be running again next month when the time is reset.")?$:"Unable to communicate with server"},googleAnalyticsTrackingId:"2222",heartBeatTimeoutSeconds:10},xe=function(){var e=Object(ye.a)(ge.a.mark((function e(n,t){var a;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve.api.root,"/api/game/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})});case 2:if(200!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",a.json());case 7:if(404!==a.status){e.next=11;break}return e.abrupt("return",Promise.resolve("DoesNotExist"));case 11:if(403!==a.status){e.next=15;break}return e.abrupt("return",Promise.resolve("NotOpen"));case 15:throw new Error("Server Error (HTTP".concat(a.status,")"));case 16:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(ye.a)(ge.a.mark((function e(n,t,a){var r;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve.api.root,"/api/game/").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:t},signal:null===a||void 0===a?void 0:a.signal});case 2:if(200!==(r=e.sent).status){e.next=7;break}return e.abrupt("return",r.json());case 7:if(404!==r.status){e.next=11;break}return e.abrupt("return",Promise.resolve("DoesNotExist"));case 11:if(401!==r.status){e.next=15;break}return e.abrupt("return",Promise.resolve("Unauthorized"));case 15:throw new Error("Server Error (HTTP".concat(r.status,")"));case 16:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),Ie="storedGames",we={},Se=function(e,n){we[e]=n},Ne=function(e){return e in we?we[e]:null},Ce=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Object(c.useState)((function(){return new AbortController})),t=Object(pe.a)(n,1),a=t[0],r=fe()(Ie,[]),i=Object(pe.a)(r,2),o=i[0],l=i[1],s=Object(c.useState)([]),u=Object(pe.a)(s,2),d=u[0],j=u[1];Object(c.useEffect)((function(){if(e){var n=d.map((function(e){return e.gameId})),t=(null!==o&&void 0!==o?o:[]).filter((function(e){return-1===n.indexOf(e.gameId)})),r=(null!==o&&void 0!==o?o:[]).map((function(e){return e.gameId}));j((function(e){return e.filter((function(e){return-1!==r.indexOf(e.gameId)}))})),j((function(e){return[].concat(Object(je.a)(e),Object(je.a)(t.map((function(e){return Object(be.a)(Object(be.a)({},e),{},{status:Ne(e.gameId)})}))))})),t.forEach((function(e){ke(e.gameId,e.userToken,a).then((function(n){"DoesNotExist"===n||"Unauthorized"===n?l((null!==o&&void 0!==o?o:[]).filter((function(n){return n.gameId!==e.gameId}))):(Se(e.gameId,n),j((function(t){return t.map((function(t){return t.gameId!==e.gameId?t:Object(be.a)(Object(be.a)({},e),{},{status:n})}))})))})).catch((function(e){return"DOMException"===(null===e||void 0===e?void 0:e.name)&&console.error(e)}))}))}else j((null!==o&&void 0!==o?o:[]).map((function(e){return Object(be.a)(Object(be.a)({},e),{},{status:null})})))}),[o]);var b=function(e,n,t){l([].concat(Object(je.a)((null!==o&&void 0!==o?o:[]).filter((function(n){return n.gameId!==e}))),[{gameId:e,userToken:n,playerId:t,time:me.DateTime.local().toISO()}]))};return Object(c.useEffect)((function(){return function(){a.abort()}}),[]),{storedGames:d,storeGame:b}},Ee=(t(129),function(e){return"$".concat(e.toLocaleString())}),Pe=function(e){return e.slice().sort((function(e,n){return e.name>n.name?1:n.name>e.name?-1:0}))},Te=function(){return window},Be=t.p+"static/media/screenshot-1.e1dcb53b.png",Ge=t.p+"static/media/screenshot-2.fec870d9.png",ze=t.p+"static/media/screenshot-3.ba9fcae7.png",Me=t.p+"static/media/screenshot-4.e609185b.png",Je=function(e){var n=e.onGameSetup,t=Ce().storedGames;return Object(te.jsxs)("div",{className:"home text-center",children:[Object(te.jsx)("h1",{className:"sr-only",children:"Monopoly Money"}),Object(te.jsx)("img",{src:h,className:"banner",alt:"Monopoly Money Banner"}),Object(te.jsx)("p",{className:"lead mt-2",children:"Juguemos Monopoly manejando las finanzas digitales."}),Object(te.jsxs)("div",{className:"new-join-button-wrapper mt-4",children:[Object(te.jsx)(m.a,{size:"lg",onClick:function(){return Object(d.navigate)("/new-game")},children:"Nuevo Juego"}),Object(te.jsx)(m.a,{size:"lg",onClick:function(){return Object(d.navigate)("/join")},children:"Unirse a Juego"})]}),Object(te.jsxs)("div",{className:"mt-4",children:[Object(te.jsx)("h2",{children:"Mis Juegos Activos"}),t.length>0?Object(te.jsx)("div",{className:"active-game-cards",children:t.sort((function(e,n){return e.time>n.time?-1:1})).map((function(e){var t=e.gameId,a=e.userToken,r=e.playerId,c=e.status,i=e.time;return Object(te.jsx)(ue.a,{className:"mb-1",children:Object(te.jsxs)(ue.a.Body,{className:"p-2",children:[Object(te.jsxs)("div",{className:"text-left",children:["Juego ",t,Object(te.jsx)("small",{style:{float:"right"},children:me.DateTime.fromISO(i).toFormat("DD h:mm a")})]}),Object(te.jsx)("div",{children:null===c||void 0===c?void 0:c.players.sort((function(e,n){return e.playerId===r?-1:0})).map((function(e){return Object(te.jsxs)(de.a,{variant:e.playerId===r?"dark":e.banker?"info":"success",className:"mr-1",children:[e.name,": ",Ee(e.balance)]},e.playerId)}))}),Object(te.jsx)(m.a,{block:!0,size:"sm",variant:"outline-primary",onClick:function(){return n(t,a,r)},className:"mt-2",children:"Unirse"})]})},t)}))}):Object(te.jsx)("div",{children:"No tienes juegos activos, inicia uno nuevo o unete"})]}),Object(te.jsx)("hr",{}),Object(te.jsxs)("div",{children:[Object(te.jsx)("h2",{children:"Que es Monopoly Money?"}),Object(te.jsx)("p",{children:"Es un webapp que permite manejar el dinero de manera digital por medio de transferencias entre usuario y el banco."}),Object(te.jsx)("p",{children:"En lugar de utilizar el dinero que ya incluye el juego de mesa, puede jugar desde su telefono de manera digital, mucho mas r?pido."}),Object(te.jsx)("p",{children:'Para jugar, quien vaya a ser el "banco" solo debe hacer clic en "Nuevo Juego", esto generar? un id que es que debe introducir en el boton "Unirse a Juego" los demas juegadores.'}),Object(te.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridGap:6},className:"mt-5",children:[Object(te.jsx)("img",{src:Be,alt:"Funds page with game id",className:"w-100"}),Object(te.jsx)("img",{src:Ge,alt:"Transfering funds",className:"w-100"}),Object(te.jsx)("img",{src:ze,alt:"Game history",className:"w-100"}),Object(te.jsx)("img",{src:Me,alt:"Bankers actions page",className:"w-100"})]})]})]})},De=t(157),Fe=t(158),He=t(152),Ae=t(36),qe=function(e){var n=e.amount,t=e.setAmount,a=e.id,r=Object(c.useState)(""),i=Object(pe.a)(r,2),o=i[0],l=i[1],s=Object(c.useRef)(null);Object(c.useEffect)((function(){l(0===n||null===n?"":"".concat(n))}),[n]),Object(c.useEffect)((function(){t(""===o?null:parseFloat(o))}),[o]);var u=function(e){var n=parseFloat(o);isNaN(n)||l("".concat(e*n)),setTimeout((function(){null!==s.current&&(s.current.focus(),s.current.setSelectionRange(-1,-1))}),50)};return Object(te.jsxs)(He.a,{style:{display:"grid",gridTemplateColumns:"2fr 7fr 2fr"},children:[Object(te.jsx)(He.a.Prepend,{children:Object(te.jsx)(m.a,{block:!0,variant:"warning",onClick:function(){return u(1e6)},children:"M"})}),Object(te.jsx)(Ae.a,{allowNegative:!1,thousandSeparator:!0,prefix:"$",id:a,value:o,onValueChange:function(e){var n=e.value;return l(n)},className:"form-control text-center w-100",autoComplete:"off",getInputRef:s,inputMode:"decimal"}),Object(te.jsx)(He.a.Append,{children:Object(te.jsx)(m.a,{block:!0,variant:"primary",onClick:function(){return u(1e3)},children:"K"})})]})},Ue=function(e){var n=e.balance,t=e.playerId,a=e.recipient,r=e.proposeTransaction,i=e.onClose,o=Object(c.useState)(null),l=Object(pe.a)(o,2),s=l[0],u=l[1],d=Object(c.useState)(null),j=Object(pe.a)(d,2),b=j[0],p=j[1],h=function(){u(null),p(null),i()};return Object(te.jsxs)(De.a,{show:!0,onHide:h,size:"lg",centered:!0,className:"send-money-modal",children:[Object(te.jsx)(De.a.Header,{closeButton:!0,children:Object(te.jsx)(De.a.Title,{children:"Transfer Funds"})}),Object(te.jsxs)(De.a.Body,{children:[Object(te.jsxs)("p",{className:"text-center",children:["\ud83d\udcb5 \u2192 ","freeParking"===a?Z:"bank"===a?X:a.name]}),Object(te.jsx)(qe,{amount:s,setAmount:u}),Object(te.jsx)(m.a,{block:!0,variant:"success",className:"mt-1",onClick:function(){null===s?p("Please provide an amount"):s<=0?p("You must provide sum larger than $0"):Number.isInteger(s)?s>n?p("You do not have enough money (".concat(Ee(n),")")):(r(t,"freeParking"===a||"bank"===a?a:a.playerId,s),h()):p("The amount must be a whole number")},children:"Enviar"}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:b})]})]})},Le=t(90),Re=t(162),Ve=t(153),_e=function(e){var n=e.gameId,t=e.isBanker,a=Object(Le.useClipboard)({copiedTimeout:1e3}),r=Object(c.useRef)(null);return Object(te.jsxs)("div",{className:"text-center",children:[Object(te.jsx)("h1",{ref:r,onClick:function(){a.copy(n)},children:n}),Object(te.jsx)(Re.a,{target:r.current,show:a.copied,placement:"bottom",children:function(e){return Object(te.jsx)(Ve.a,Object(be.a)(Object(be.a)({id:"overlay-example"},e),{},{children:"Copied to clipboard"}))}}),t&&Object(te.jsx)("small",{className:"text-muted",children:"Utilice este codigo para unirse al juego"}),Object(te.jsx)("hr",{})]})},We=(t(132),function(e){var n=e.connected,t=e.className,a=void 0===t?"":t;return Object(te.jsx)("div",{className:"connected-state-dot ".concat(n?"connected":""," ").concat(a)})}),Ye=function(e){var n=e.name,t=e.connected,a=e.balance,r=e.onClick;return Object(te.jsxs)(ue.a,{className:"player-card text-center",children:[null!==t&&Object(te.jsx)(We,{connected:t,className:"m-2"}),Object(te.jsxs)(ue.a.Body,{className:"p-3",onClick:r,children:[Object(te.jsx)("div",{children:n}),Object(te.jsx)("div",{children:Number.isFinite(a)?Ee(a):"\u221e"})]})]})},$e=(t(133),function(e){var n=e.events,t=e.players,a=Object(c.useState)([]),r=Object(pe.a)(a,2),i=r[0],o=r[1],l=function(e){if("freeParking"===e)return Z;if("bank"===e)return X;var n,a=t.find((function(n){return n.playerId===e}));return null!==(n=null===a||void 0===a?void 0:a.name)&&void 0!==n?n:"[Deleted User]"};return Object(c.useEffect)((function(){n.filter((function(e){return"transaction"===e.type})).forEach((function(e){-me.DateTime.fromISO(e.time).diffNow().as("milliseconds")<1e4&&(o((function(n){return[].concat(Object(je.a)(n.filter((function(n){return n.time!==e.time}))),[e])})),setTimeout((function(){o((function(n){return n.filter((function(n){return n.time!==e.time}))}))}),1e4))}))}),[n.length]),Object(te.jsx)("div",{className:"recent-transactions text-center",children:i.map((function(e){return Object(te.jsxs)("small",{className:"d-block",children:[l(e.from)," \u2192 ",l(e.to)," (",Ee(e.amount),")"]},e.time)}))})}),Ke=function(e){var n,t=e.gameId,a=e.playerId,r=e.isGameOpen,i=e.players,o=(e.freeParkingBalance,e.proposeTransaction),l=e.events,u=Object(c.useState)(null),d=Object(pe.a)(u,2),j=d[0],b=d[1],p=Object(s.b)((function(){var e;return Object(te.jsx)(te.Fragment,{children:null!==j&&Object(te.jsx)(Ue,{balance:null!==(e=null===O||void 0===O?void 0:O.balance)&&void 0!==e?e:0,playerId:a,recipient:j,proposeTransaction:o,onClose:function(){return b(null)}})})}),[j]),m=Object(pe.a)(p,2),h=m[0],f=m[1];Object(c.useEffect)((function(){null!==j?h():f()}),[j,h,f]);var O=i.find((function(e){return e.playerId===a})),g=null!==(n=null===O||void 0===O?void 0:O.banker)&&void 0!==n&&n;return Object(te.jsxs)("div",{className:"funds",children:[r&&Object(te.jsx)(_e,{gameId:t,isBanker:g}),Object(te.jsx)(ue.a,{className:"mb-1 text-center",children:void 0!==O&&Object(te.jsxs)(ue.a.Body,{className:"p-3",children:[O.name,": ",Ee(O.balance)]})}),Object(te.jsx)("div",{className:"mb-1 balance-grid",children:Pe(i.filter((function(e){return e.playerId!==a}))).map((function(e){return Object(te.jsx)(Ye,{name:e.name,connected:e.connected,balance:e.balance,onClick:function(){return b(e)}},e.playerId)}))}),Object(te.jsx)("div",{className:"balance-grid",children:Object(te.jsx)(Ye,{name:X,connected:null,balance:Number.POSITIVE_INFINITY,onClick:function(){return b("bank")}})}),Object(te.jsx)("div",{className:"mt-2",children:Object(te.jsx)($e,{events:l,players:i})})]})},Qe=t(154),Xe=t(155),Ze=t(93),en=function(e){var n,t=e.label,a=e.submitText,r=e.players,i=e.onSubmit,o=t.toLowerCase().replace(" ","-"),l=Object(c.useState)(null),s=Object(pe.a)(l,2),u=s[0],d=s[1],j=Object(c.useState)(null),b=Object(pe.a)(j,2),p=b[0],h=b[1],f=Object(c.useState)(null),O=Object(pe.a)(f,2),g=O[0],y=O[1];return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("label",{htmlFor:o,className:"mb-1",children:t}),Object(te.jsx)(qe,{amount:u,setAmount:d,id:o}),Object(te.jsxs)(Qe.a,{className:"mt-1 player-and-submit-group",children:[Object(te.jsx)(Xe.a,{as:Qe.a,variant:"outline-secondary",id:"".concat(o,"-player"),title:null!==(n=null===p||void 0===p?void 0:p.name)&&void 0!==n?n:"Seleccionar Jugador",children:r.map((function(e){return Object(te.jsx)(Ze.a.Item,{onClick:function(){return h(e)},children:e.name},e.playerId)}))}),Object(te.jsx)(m.a,{variant:"outline-secondary",onClick:function(){null===u?y("Please provide an amount"):u<=0?y("You must provide sum larger than $0"):Number.isInteger(u)?null===p?y("No player is selected"):(i(u,p.playerId),d(null),h(null),y(null)):y("The amount must be a whole number")},children:a})]}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:g})]})},nn=(t(134),function(e){var n=e.submitAmount,t=e.onClose,a=Object(c.useState)(null),r=Object(pe.a)(a,2),i=r[0],o=r[1],l=Object(c.useState)(null),s=Object(pe.a)(l,2),u=s[0],d=s[1],j=function(){o(null),d(null),t()};return Object(te.jsxs)(De.a,{show:!0,onHide:j,size:"lg",centered:!0,className:"send-money-modal",children:[Object(te.jsx)(De.a.Header,{closeButton:!0,children:Object(te.jsx)(De.a.Title,{children:"Balances Iniciales"})}),Object(te.jsxs)(De.a.Body,{children:[Object(te.jsx)("p",{children:"Una vez inicializado los balances iniciales, no se puede volver a realizar. De totas maneras puede enviarle dinero a los usuarios cuanto desee uno a uno"}),Object(te.jsx)(qe,{amount:i,setAmount:o}),Object(te.jsx)(m.a,{block:!0,variant:"success",className:"mt-1",onClick:function(){null===i?d("Please provide an amount"):i<=0?d("You must provide sum larger than $0"):(n(i),j())},children:"Inicializar"}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:u})]})]})}),tn=function(e){var n=e.players,t=e.proposeTransaction,a=Object(s.b)((function(){return Object(te.jsx)(nn,{submitAmount:function(e){n.forEach((function(n){t("bank",n.playerId,e)}))},onClose:i})})),r=Object(pe.a)(a,2),c=r[0],i=r[1];return Object(te.jsx)(m.a,{variant:"primary",block:!0,onClick:c,children:"Carga inicial de balances de Jugadores"})},an=function(e){var n,t=e.players,a=e.onSubmit,r=Object(c.useState)(null),i=Object(pe.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)(null),d=Object(pe.a)(u,2),j=d[0],b=d[1],p=fe()("passingGoRewardValue",2e3),h=Object(pe.a)(p,2),f=h[0],O=h[1],g=Object(c.useState)(null!==f&&void 0!==f?f:2e3),y=Object(pe.a)(g,2),v=y[0],x=y[1],k=Object(c.useState)(v),I=Object(pe.a)(k,2),w=I[0],S=I[1],N=Object(s.b)((function(){return Object(te.jsxs)(De.a,{show:!0,onHide:P,size:"lg",centered:!0,children:[Object(te.jsx)(De.a.Header,{closeButton:!0,children:Object(te.jsx)(De.a.Title,{children:"Modificar monto recompensa pasar por Inicio"})}),Object(te.jsxs)(De.a.Body,{children:[Object(te.jsxs)(He.a,{children:[Object(te.jsx)(He.a.Prepend,{children:Object(te.jsx)(He.a.Text,{children:"Monto"})}),Object(te.jsx)(Ae.a,{allowNegative:!1,thousandSeparator:!0,prefix:"$",value:w,onValueChange:function(e){var n=e.value;S(parseInt(n,10))},className:"form-control",autoComplete:"off",decimalScale:0,inputMode:"decimal"}),Object(te.jsx)(m.a,{variant:"success",onClick:function(){x(w),P()},className:"remove-left-border-radius",children:"Guardar"})]}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:j})]})]})}),[w,S]),C=Object(pe.a)(N,2),E=C[0],P=C[1];Object(c.useEffect)((function(){O(v)}),[v]);return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("label",{htmlFor:"player-passed-go",className:"mb-1",children:["Jugador pasa por INICIO (",Ee(v),")"]}),Object(te.jsxs)(Qe.a,{className:"mt-1 settings-and-player-and-submit-group",children:[Object(te.jsx)(m.a,{variant:"outline-secondary",onClick:E,children:"\u2699\ufe0f"}),Object(te.jsx)(Xe.a,{as:Qe.a,variant:"outline-secondary",id:"player-passed-go",title:null!==(n=null===o||void 0===o?void 0:o.name)&&void 0!==n?n:"Seleccionar Jugador",children:t.map((function(e){return Object(te.jsx)(Ze.a.Item,{onClick:function(){return l(e)},children:e.name},e.playerId)}))}),Object(te.jsx)(m.a,{variant:"outline-secondary",onClick:function(){null!==o?(a(v,o.playerId),l(null),b(null)):b("Seleccione el Jugador")},children:"Enviar"})]}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:j})]})},rn=function(e){var n=e.players,t=(e.freeParkingBalance,e.hasATransactionBeenMade),a=e.proposeTransaction;return Object(te.jsxs)("div",{className:"bank",children:[!t&&Object(te.jsx)("div",{className:"mb-3",children:Object(te.jsx)(tn,{players:n,proposeTransaction:a})}),Object(te.jsx)("div",{className:"mb-4",children:Object(te.jsx)(en,{label:"Darle dinero a jugador",submitText:"Enviar",players:n,onSubmit:function(e,n){return a("bank",n,e)}})}),Object(te.jsx)("div",{className:"mb-4",children:Object(te.jsx)(an,{players:n,onSubmit:function(e,n){return a("bank",n,e)}})}),Object(te.jsx)("div",{className:"mb-4",children:Object(te.jsx)(en,{label:"Tomar dinero de jugador",submitText:"Tomar",players:n,onSubmit:function(e,n){return a(n,"bank",e)}})})]})},cn=t(26),on=(t(140),function(e,n,t){var a={id:"".concat(e.type+e.time),time:me.DateTime.fromISO(e.time).toFormat("h:mm a")};switch(e.type){case"playerJoin":var r=t.players.find((function(n){return n.playerId===e.playerId}));return Object(be.a)(Object(be.a)({},a),{},{title:"Player Join",actionedBy:null,detail:"".concat(r.name," joined"),colour:"cyan"});case"playerBankerStatusChange":var c=t.players.find((function(n){return n.playerId===e.playerId})),i=n.players.find((function(n){return n.playerId===e.actionedBy}));return Object(be.a)(Object(be.a)({},a),{},{title:"Player Banker Status Change",actionedBy:i.name,detail:"".concat(c.name," was made a banker"),colour:"yellow"});case"transaction":var o="bank"===e.to?X:"freeParking"===e.to?Z:t.players.find((function(n){return n.playerId===e.to})).name,l="bank"===e.from?X:"freeParking"===e.from?Z:t.players.find((function(n){return n.playerId===e.from})).name,s=n.players.find((function(n){return n.playerId===e.actionedBy}));return Object(be.a)(Object(be.a)({},a),{},{title:"Transaction",actionedBy:s.playerId===e.from?null:s.name,detail:"".concat(l," \u2192 ").concat(o," (").concat(Ee(e.amount),")"),colour:"green"});case"playerNameChange":var u=n.players.find((function(n){return n.playerId===e.playerId})).name,d=t.players.find((function(n){return n.playerId===e.playerId})).name,j=n.players.find((function(n){return n.playerId===e.actionedBy}));return Object(be.a)(Object(be.a)({},a),{},{title:"Player Name Change",actionedBy:j.playerId===e.playerId?null:j.name,detail:"".concat(u," was renamed to ").concat(d),colour:"orange"});case"playerDelete":var b=n.players.find((function(n){return n.playerId===e.playerId})).name,p=n.players.find((function(n){return n.playerId===e.actionedBy}));return Object(be.a)(Object(be.a)({},a),{},{title:"Player Removal",actionedBy:p.playerId===e.playerId?null:p.name,detail:"".concat(b," was removed from the game"),colour:"red"});case"gameOpenStateChange":var m=n.players.find((function(n){return n.playerId===e.actionedBy}));return Object(be.a)(Object(be.a)({},a),{},{title:"Game Open State Change",actionedBy:m.name,detail:"The game is now ".concat(e.open?"open":"closed"," to new players"),colour:"blue"});case"playerConnectionChange":return null}}),ln=function(e){var n=e.events,t=cn.defaultGameState,a=n.map((function(e){var n=Object(cn.calculateGameState)([e],t),a=on(e,t,n);return t=n,a}));return Object(te.jsx)("div",{className:"history",children:a.reverse().map((function(e){return null===e?null:Object(te.jsxs)("div",{className:"event mb-2",children:[Object(te.jsx)("div",{className:"bar",style:{background:"var(--".concat(e.colour,")")}}),Object(te.jsxs)("div",{className:"event-details",children:[Object(te.jsxs)("div",{className:"top",children:[Object(te.jsx)("small",{children:e.title}),Object(te.jsxs)("small",{children:[null!==e.actionedBy&&Object(te.jsxs)("span",{className:"mr-2",children:["(\u270d\ufe0f ",e.actionedBy,")"]}),e.time]})]}),Object(te.jsx)("div",{className:"detail",children:e.detail})]})]},e.id)}))})},sn=t(156),un=t(89),dn=function(e){var n=e.player,t=e.proposePlayerNameChange,a=e.onClose,r=Object(c.useState)(n.name),i=Object(pe.a)(r,2),o=i[0],l=i[1],s=Object(c.useState)(null),u=Object(pe.a)(s,2),d=u[0],j=u[1];return Object(te.jsxs)(De.a,{show:!0,onHide:a,size:"lg",centered:!0,children:[Object(te.jsx)(De.a.Header,{closeButton:!0,children:Object(te.jsx)(De.a.Title,{children:"Cambiar nombre de Jugador"})}),Object(te.jsxs)(De.a.Body,{children:[Object(te.jsxs)(He.a,{children:[Object(te.jsx)(He.a.Prepend,{children:Object(te.jsx)(He.a.Text,{children:"Nombre"})}),Object(te.jsx)(un.a,{value:o,onChange:function(e){return l(e.currentTarget.value)}}),Object(te.jsx)(m.a,{variant:"success",onClick:function(){j(""===o?"El nombre no puede estar vac?o":null),t(n.playerId,o),a()},className:"remove-left-border-radius",children:"Guardar"})]}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:d})]})]})},jn=function(e){var n=e.player,t=e.proposePlayerDelete,a=e.onClose;return Object(te.jsxs)(De.a,{show:!0,onHide:a,size:"lg",centered:!0,children:[Object(te.jsx)(De.a.Header,{closeButton:!0,children:Object(te.jsx)(De.a.Title,{children:"Eliminar Jugador"})}),Object(te.jsx)(De.a.Body,{children:Object(te.jsxs)("p",{children:["Estas seguro de eliminar a ",n.name,"?"]})}),Object(te.jsxs)(De.a.Footer,{children:[Object(te.jsx)(m.a,{variant:"danger",onClick:a,children:"Cancelar"}),Object(te.jsx)(m.a,{variant:"success",className:" ml-1",onClick:function(){t(n.playerId),a()},children:"Eliminar"})]})]})},bn=function(e){var n=e.proposeGameEnd,t=e.onClose;return Object(te.jsxs)(De.a,{show:!0,onHide:t,size:"lg",centered:!0,children:[Object(te.jsx)(De.a.Header,{closeButton:!0,children:Object(te.jsx)(De.a.Title,{children:"Finalizar Juego"})}),Object(te.jsxs)(De.a.Body,{children:[Object(te.jsx)("p",{children:"Are you sure you want to end the game?"}),Object(te.jsx)("p",{children:"This will kick everyone and you will not be able to re-join the game."})]}),Object(te.jsxs)(De.a.Footer,{children:[Object(te.jsx)(m.a,{variant:"danger",onClick:t,children:"Cancel"}),Object(te.jsx)(m.a,{variant:"success",className:" ml-1",onClick:function(){n(),t()},children:"Finalizar Juego"})]})]})},pn=(t(141),function(e){var n=e.isGameOpen,t=e.players,a=e.proposePlayerNameChange,r=e.proposePlayerDelete,i=e.proposeGameOpenStateChange,o=e.proposeGameEnd,l=Object(c.useState)(null),u=Object(pe.a)(l,2),d=u[0],j=u[1],b=Object(s.b)((function(){return Object(te.jsx)(te.Fragment,{children:null!==d&&Object(te.jsx)(dn,{player:d,proposePlayerNameChange:a,onClose:f})})}),[d]),p=Object(pe.a)(b,2),h=p[0],f=p[1],O=Object(s.b)((function(){return Object(te.jsx)(te.Fragment,{children:null!==d&&Object(te.jsx)(jn,{player:d,proposePlayerDelete:r,onClose:v})})}),[d]),g=Object(pe.a)(O,2),y=g[0],v=g[1],x=Object(s.b)((function(){return Object(te.jsx)(te.Fragment,{children:Object(te.jsx)(bn,{proposeGameEnd:o,onClose:w})})}),[d]),k=Object(pe.a)(x,2),I=k[0],w=k[1];return Object(te.jsxs)("div",{className:"settings",children:[Object(te.jsxs)(sn.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(te.jsx)("thead",{children:Object(te.jsxs)("tr",{children:[Object(te.jsx)("th",{}),Object(te.jsx)("th",{children:"Name"}),Object(te.jsx)("th",{children:"Balance"}),Object(te.jsx)("th",{})]})}),Object(te.jsx)("tbody",{children:Pe(t).map((function(e){return Object(te.jsxs)("tr",{className:"player-row",children:[Object(te.jsx)("td",{children:Object(te.jsx)(We,{connected:e.connected})}),Object(te.jsx)("td",{children:e.name}),Object(te.jsx)("td",{children:Ee(e.balance)}),Object(te.jsxs)("td",{children:[Object(te.jsx)(m.a,{variant:"outline-secondary",size:"sm",title:"Rename",onClick:function(){j(e),h()},children:Object(te.jsx)("span",{role:"img","aria-label":"Guardar",children:"\u270f\ufe0f"})}),Object(te.jsx)(m.a,{variant:"outline-danger",size:"sm",title:"Remove",className:"ml-1",onClick:function(){j(e),y()},children:Object(te.jsx)("span",{role:"img","aria-label":"Remove",children:"\ud83d\uddd1\ufe0f"})})]})]},e.playerId)}))})]}),Object(te.jsxs)(m.a,{block:!0,variant:"primary",onClick:function(){return i(!n)},children:[n?"Cerrar":"Abrir"," Juego a Nuevos Jugadores"]}),Object(te.jsx)(m.a,{block:!0,variant:"danger",onClick:function(){return I()},children:"Finalizar Juego"})]})}),mn=function(e){var n=e.newGame,t=e.onGameSetup,a=n?"Nuevo Juego":"Unirse al Juego",r=Ce(!1).storedGames,o=Object(c.useState)(!1),l=Object(pe.a)(o,2),s=l[0],u=l[1],d=Object(c.useState)(""),j=Object(pe.a)(d,2),b=j[0],p=j[1],h=Object(c.useState)(""),f=Object(pe.a)(h,2),O=f[0],g=f[1],y=Object(c.useState)(null),v=Object(pe.a)(y,2),x=v[0],k=v[1],I=Object(c.useState)(null),w=Object(pe.a)(I,2),S=w[0],N=w[1],C=Object(c.useState)(!1),E=Object(pe.a)(C,2),P=E[0],T=E[1],B=-1!==r.map((function(e){return e.gameId})).indexOf(b),G=function(){if(B){var e=r.find((function(e){return e.gameId===b}));t(e.gameId,e.userToken,e.playerId)}else if(n){if(""===O)return void N("Por favor ingresa tu nombre");N(null),u(!0),function(e){return fetch("".concat(ve.api.root,"/api/game"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})}).then((function(e){if(200===e.status)return e.json();throw new Error("Server Error (HTTP".concat(e.status,")"))}))}(O).then((function(e){t(e.gameId,e.userToken,e.playerId)})).catch((function(e){console.log(e),T(!0)})).finally((function(){return u(!1)}))}else{if(""===b)return void k("Por favor ingresa el ID del juego");if(k(null),""===O)return void N("Por favor ingresa tu nombre");N(null),u(!0),xe(b,O).then((function(e){"DoesNotExist"===e?k("El juego no existe"):"NotOpen"===e?k("El juego no se encuentra abierto, pidele al usuario 'banco' que lo abra para nuevos usuarios en 'Conf.'."):t(e.gameId,e.userToken,e.playerId)})).catch((function(e){console.log(e),T(!0)})).finally((function(){return u(!1)}))}};return Object(te.jsxs)("div",{className:"text-center",children:[Object(te.jsx)("h1",{children:a}),!n&&Object(te.jsxs)(Fe.a.Group,{children:[Object(te.jsx)(Fe.a.Label,{children:"Game Id"}),Object(te.jsx)(Ae.a,{allowNegative:!1,format:"######",placeholder:"123456",value:b,onValueChange:function(e){var n=e.value;return p(n)},className:"form-control text-center",autoComplete:"off",inputMode:"decimal"}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:x})]}),B?Object(te.jsx)("p",{children:Object(te.jsx)("em",{children:"Ya te encuentras en el juego, nombre no es necesario."})}):Object(te.jsxs)(Fe.a.Group,{children:[Object(te.jsx)(Fe.a.Label,{children:"Tu nombre"}),Object(te.jsx)(Fe.a.Control,{placeholder:"Nombre",value:O,className:"text-center",onChange:function(e){return g(e.currentTarget.value)},onKeyDown:function(e){return"Enter"===e.key&&G()},autoComplete:"on"}),Object(te.jsx)(Fe.a.Text,{style:{color:"var(--danger)"},children:S})]}),Object(te.jsx)(m.a,{block:!0,variant:"primary",onClick:G,disabled:s,children:n?"Crear":"Unirse"}),P&&Object(te.jsx)("p",{style:{color:"var(--danger)"},className:"mt-2",children:ve.api.unreachableErrorMessage.split("\n").map((function(e,n,t){return Object(te.jsxs)(i.a.Fragment,{children:[e,n!==t.length-1&&Object(te.jsx)("br",{})]},e)}))})]})},hn=t.p+"static/media/pages.b841b5b8.png",fn=(t(142),function(){return Object(te.jsxs)("div",{className:"help",children:[Object(te.jsx)("h3",{className:"text-center",children:"Monopoly Banco Ayuda"}),Object(te.jsx)("p",{className:"lead mt-2 text-center",children:"Peque?a guia de uso."}),Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)("a",{href:"#pages",children:"Paginas"})}),Object(te.jsx)("li",{children:Object(te.jsx)("a",{href:"#player-help",children:"Ayuda Usuario"})}),Object(te.jsx)("li",{children:Object(te.jsx)("a",{href:"#banker-help",children:"Ayuda Banquero"})})]}),Object(te.jsx)("h4",{id:"pages",children:"Paginas"}),Object(te.jsx)("img",{src:hn,alt:"Titles for each page",className:"mw-100"}),Object(te.jsx)("h4",{id:"player-help",children:"Ayuda Usuario"}),Object(te.jsx)("h5",{children:"Unirse a un Juego"}),Object(te.jsx)("p",{children:'Para unirse a un juego, seleccion "Unirse a Juego" en la pagina principal, e ingrese el ID del juego el usuario que sea el banquero (Quien inici? el juego), tiene este ID en su pantalla, y escriba su nombre. Luego precione Unirse.'}),Object(te.jsx)("h5",{children:"Transferir fondos a otro jugador o al banco"}),Object(te.jsx)("p",{children:"Para transferir fondos, simplemente haga clic en el nombre del jugador, o banco. Luego ingrese el monto a transferir, y haga clic en Enviar. (Las letras M y K le ayudan si el monto a enviar es muy grande, ya que la M le suma millon y la K le suma 100.000)"}),Object(te.jsx)("h5",{children:"Ver historial de transacciones"}),Object(te.jsx)("p",{children:'Todo tipo de transacci?n realizada puede verse en el men? "Historial"'}),Object(te.jsx)("h4",{id:"banker-help",children:"Ayuda Banquero"}),Object(te.jsx)("h5",{children:"Crear el Juego"}),Object(te.jsx)("p",{children:'Para crear un nuevo juego, haga clic en "Nuevo Juevo" y escriba su nombre. Al iniciar, ver?s un ID, este es el que debes pasarle a los demas jugadores para que se puedan unir.'}),Object(te.jsx)("h5",{children:"Inicializando los balances de los jugadores"}),Object(te.jsx)("p",{children:"Una vez que inicias, en el men? Banco, veras el bot?n inicializar balances. Esto esta disponible solo cuando a?n no hubo ning?na transacci?n. Luego que todos los jugadores se unieron, haz clic en el bot?n, ingresa el monto inicial que deseas entregar a cada usuario e Inicializar. Luego si se une otro jugador puedes hacerlo enviando dinero a cada usuarios que desees uno a uno desde la opcion banco."}),Object(te.jsx)("h5",{children:"Enviarle dinero a los usuarios desde el Banco"}),Object(te.jsx)("p",{children:'En la pagina de banco donde indica "Enviar dinero a jugador" permite enviar dinero a los usuarios Solo ingresa el monto, selecciona el jugador que debe recibirlo y clic en Enviar'}),Object(te.jsx)("h5",{children:"Cobrar dinero de usuario a banco"}),Object(te.jsx)("p",{children:'Los jugadores pueden hacer los pagos desde su propia cuenta y pagina de Fondos, sin embargo, si necesitas cobrarle directo desde el banco puedes hacerlo en la opcion "Tomar dinero de jugador" indicando el monto y el nombre del jugador y clic en el boton Tomar'}),Object(te.jsx)("h5",{children:"Jugador pasa por inicio"}),Object(te.jsx)("p",{children:"Cada vez que un jugador pasa por el inicio, puedes seleccionar el nombre del jugador y Enviar para acreditarle el diner de recompenza."}),Object(te.jsx)("p",{children:"El monto de la recompenza puedes configurarlo haciendo clic en la herramienta a la izquierda del jugador."}),Object(te.jsx)("h5",{children:"Cambiar nombre de jugador"}),Object(te.jsx)("p",{children:"Puedes cambiar el nombre de los jugadores en la pagina Conf. haciendo clic en el boton de lapiz, escribiendo el nuevo nombre y Guardar"}),Object(te.jsx)("h5",{children:"Eliminar un jugador"}),Object(te.jsx)("p",{children:"Puedes eliminar un jugador haciendo clic en Conf. a la derecha del nombre de jugador en el icono de papelera"}),Object(te.jsx)("h5",{children:"Cerrar juego para nuevos jugadores"}),Object(te.jsx)("p",{children:'En el men? "Conf." puedes hacer clic en "Cerrar Juego para nuevos jugadores", esto asegura que ning?n otro participante pueda unirse a tu juego. Si luego decides volverlo a abrir para sumar a alguien mas, puedes volver a hacer clic en "Abrir Juego para nuevos jugadores"'}),Object(te.jsx)("h5",{children:"Finalizar juego"}),Object(te.jsx)("p",{children:'Puedes finalizar el juego en el bot?n "Finalizar Juego" en la pantalla "Conf."'})]})}),On=t(91),gn=t(92),yn=function(){function e(n,t,a,r,c){var i=this;Object(On.a)(this,e),this.gameId=void 0,this.userToken=void 0,this.playerId=void 0,this.onGameStateChange=void 0,this.onDisplayMessage=void 0,this.events=[],this.webSocket=void 0,this.gameState=cn.defaultGameState,this.heartBeatTimeout=null,this.gameEnd=function(e){switch(i.webSocket.close(),e){case"end":i.onDisplayMessage("Juego Terminado","Este juego fue finalizado por el banquero.",i.gameState);break;case"removed":var n=Object(cn.calculateGameState)(i.events.slice(0,-1),cn.defaultGameState);i.onDisplayMessage("Eliminado del juego","Has sido eliminado del juego por el banquero.",n);break;case"unexpectedWebSocketClosure":Te().gtag("event","Unexpected server disconnection",{event_category:"Network",non_interaction:!0}),i.onDisplayMessage("Desconectado del servidor","Ups.. Hubo un problema con el servidor. Verifica que tengas internet",i.gameState)}},this.gameId=n,this.userToken=t,this.playerId=a,this.onGameStateChange=r,this.onDisplayMessage=c;var o=ve.api.root.replace(/http?/g,"ws");this.webSocket=new WebSocket("".concat(o,"/api/events")),this.webSocket.onmessage=this.onWebSocketMessage.bind(this),this.webSocket.addEventListener("open",(function(e){var n={type:"auth",gameId:i.gameId,userToken:i.userToken};i.webSocket.send(JSON.stringify(n))})),this.webSocket.addEventListener("close",(function(e){e.wasClean||(i.gameEnd("unexpectedWebSocketClosure"),i.onGameStateChange(!0)),null!==i.heartBeatTimeout&&clearTimeout(i.heartBeatTimeout)})),this.heartBeatTimeout=setInterval(this.pingServer.bind(this),1e3*ve.heartBeatTimeoutSeconds)}return Object(gn.a)(e,[{key:"pingServer",value:function(){this.webSocket.send(JSON.stringify({type:"heartBeat"}))}},{key:"getState",value:function(){return this.gameState}},{key:"getEvents",value:function(){return this.events}},{key:"amIABanker",value:function(){var e,n=this,t=this.gameState.players.find((function(e){return e.playerId===n.playerId}));return null!==(e=null===t||void 0===t?void 0:t.banker)&&void 0!==e&&e}},{key:"proposeTransaction",value:function(e,n,t){var a={time:"",actionedBy:"",type:"transaction",from:e,to:n,amount:t};this.submitEvent(a)}},{key:"proposePlayerNameChange",value:function(e,n){var t={time:"",actionedBy:"",type:"playerNameChange",playerId:e,name:n};this.submitEvent(t)}},{key:"proposePlayerDelete",value:function(e){var n={time:"",actionedBy:"",type:"playerDelete",playerId:e};this.submitEvent(n)}},{key:"proposeGameOpenStateChange",value:function(e){var n={time:"",actionedBy:"",type:"gameOpenStateChange",open:e};this.submitEvent(n)}},{key:"proposeGameEnd",value:function(){this.webSocket.send(JSON.stringify({type:"proposeEndGame"}))}},{key:"onWebSocketMessage",value:function(e){var n=JSON.parse(e.data);"initialEventArray"===n.type?(this.events=n.events,this.gameState=Object(cn.calculateGameState)(this.events,this.gameState)):"newEvent"===n.type?(this.events.push(n.event),this.gameState=Object(cn.calculateGameState)([n.event],this.gameState)):"gameEnd"===n.type&&this.gameEnd("end");var t=-1!==this.gameState.players.map((function(e){return e.playerId})).indexOf(this.playerId);t||this.gameEnd("removed");var a="gameEnd"===n.type||!t;this.onGameStateChange(a)}},{key:"submitEvent",value:function(e){var n={type:"proposeEvent",event:e};this.webSocket.send(JSON.stringify(n))}}]),e}(),vn=function(e){var n=e.title,t=e.body,a=e.onClose;return Object(te.jsxs)(De.a,{show:!0,onHide:a,size:"lg",centered:!0,className:"send-money-modal",children:[Object(te.jsx)(De.a.Header,{closeButton:!0,children:Object(te.jsxs)(De.a.Title,{children:[" ",n," "]})}),Object(te.jsx)(De.a.Body,{children:t}),Object(te.jsx)(De.a.Footer,{children:Object(te.jsx)(m.a,{block:!0,variant:"primary",onClick:a,children:"Ok"})})]})},xn=function(){var e=Object(c.useState)(null),n=Object(pe.a)(e,2),t=n[0],a=n[1],r=Object(s.b)((function(){return Object(te.jsx)(te.Fragment,{children:null!==t&&Object(te.jsx)(vn,Object(be.a)(Object(be.a)({},t),{},{onClose:l}))})}),[t]),i=Object(pe.a)(r,2),o=i[0],l=i[1];return function(e){a(e),o()}},kn=function(){var e=function(){var e=Object(c.useState)(),n=Object(pe.a)(e,2)[1];return Object(c.useCallback)((function(){return n({})}),[])}(),n=Object(c.useState)(null),t=Object(pe.a)(n,2),a=t[0],r=t[1],i=xn(),o=function(e,n,t){i({title:e,body:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("p",{children:n}),Object(te.jsx)("p",{className:"mb-0",children:"Here was the games progress:"}),Object(te.jsx)("ul",{className:"mb-1",children:t.players.map((function(e){return Object(te.jsxs)("li",{children:[e.name,": ",Ee(e.balance)]},e.playerId)}))}),Object(te.jsx)("small",{children:"(Provided just in the case you need to re-create the game)"})]})})};return{initialize:function(n){var t=n.gameId,a=n.userToken,c=n.playerId;r(new yn(t,a,c,(function(n){n?r(null):e()}),o))},clear:function(){null!==a&&a.gameEnd(null),r(null)},authInfo:null===a?null:{gameId:a.gameId,userToken:a.userToken,playerId:a.playerId},game:null===a?null:Object(be.a)(Object(be.a)({},a.getState()),{},{gameId:a.gameId,playerId:a.playerId,isBanker:a.amIABanker(),events:a.getEvents(),actions:{proposeTransaction:a.proposeTransaction.bind(a),proposePlayerNameChange:a.proposePlayerNameChange.bind(a),proposePlayerDelete:a.proposePlayerDelete.bind(a),proposeGameOpenStateChange:a.proposeGameOpenStateChange.bind(a),proposeGameEnd:a.proposeGameEnd.bind(a)}})}},In=function(e,n){return Object(te.jsx)(ie,{route:e,children:Object(te.jsx)(se,{children:n})})},wn=function(){var e,n,t=Ce(!1).storeGame,a=kn(),r=a.game,i=a.authInfo,o=a.initialize,l=a.clear,s=Object(d.usePath)();Object(c.useEffect)((function(){Te().gtag("event","page_view",{page_location:window.location.origin+window.location.pathname,page_path:window.location.pathname,page_title:document.title})}),[s]),Object(c.useEffect)((function(){s!==ee.home&&s!==ee.join&&s!==ee.newGame||b()}),[s]),Object(c.useEffect)((function(){-1===Object.values(ee).indexOf(s)&&Object(d.navigate)("/")}),[s]),Object(c.useEffect)((function(){null===r&&Object(d.navigate)("/")}),[r]);var j=function(e,n,a){null!==i&&t(i.gameId,i.userToken,i.playerId),o({gameId:e,userToken:n,playerId:a}),t(e,n,a),Object(d.navigate)("/funds")},b=function(){null!==i&&t(i.gameId,i.userToken,i.playerId),l()},p=function(){return Object(te.jsx)(Je,{onGameSetup:j})},m=(e={},Object(u.a)(e,ee.home,(function(){return In(ee.home,Object(te.jsx)(Je,{onGameSetup:j}))})),Object(u.a)(e,ee.join,(function(){return In(ee.join,Object(te.jsx)(mn,{newGame:!1,onGameSetup:j}))})),Object(u.a)(e,ee.newGame,(function(){return In(ee.newGame,Object(te.jsx)(mn,{newGame:!0,onGameSetup:j}))})),Object(u.a)(e,ee.funds,null!==r?function(){return In(ee.funds,Object(te.jsx)(Ke,{gameId:r.gameId,playerId:r.playerId,isGameOpen:r.open,players:r.players,freeParkingBalance:r.freeParkingBalance,proposeTransaction:r.actions.proposeTransaction,events:r.events}))}:function(){return Object(te.jsx)(p,{})}),Object(u.a)(e,ee.bank,null!==r&&r.isBanker?function(){return In(ee.bank,Object(te.jsx)(rn,{players:r.players,freeParkingBalance:r.freeParkingBalance,hasATransactionBeenMade:r.events.filter((function(e){return"transaction"===e.type})).length>0,proposeTransaction:r.actions.proposeTransaction}))}:function(){return Object(te.jsx)(p,{})}),Object(u.a)(e,ee.history,null!==r?function(){return In(ee.history,Object(te.jsx)(ln,{events:r.events}))}:function(){return Object(te.jsx)(p,{})}),Object(u.a)(e,ee.settings,null!==r&&r.isBanker?function(){return In(ee.settings,Object(te.jsx)(pn,{isGameOpen:r.open,players:r.players,proposePlayerNameChange:r.actions.proposePlayerNameChange,proposePlayerDelete:r.actions.proposePlayerDelete,proposeGameOpenStateChange:r.actions.proposeGameOpenStateChange,proposeGameEnd:r.actions.proposeGameEnd}))}:function(){return Object(te.jsx)(p,{})}),Object(u.a)(e,ee.help,(function(){return In(ee.help,Object(te.jsx)(fn,{}))})),e),h=Object(d.useRoutes)(m);return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(ae,{inGame:null!==r,isBanker:null!==(n=null===r||void 0===r?void 0:r.isBanker)&&void 0!==n&&n}),Object(te.jsx)("div",{className:"my-3",children:h||Object(te.jsx)(p,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(143);l.a.render(Object(te.jsx)(s.a,{children:Object(te.jsx)(wn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.calculateGameState=n.defaultGameState=void 0;var a=t(135);Object.defineProperty(n,"defaultGameState",{enumerable:!0,get:function(){return a.defaultGameState}}),Object.defineProperty(n,"calculateGameState",{enumerable:!0,get:function(){return a.calculateGameState}})}},[[144,1,2]]]);